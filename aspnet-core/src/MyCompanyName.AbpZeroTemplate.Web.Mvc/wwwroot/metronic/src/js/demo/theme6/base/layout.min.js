var mLayout=function(){var e,i,n,r,u,t,f,o=function(){var t,i=mUtil.get("m_header"),n={offset:{},minimize:{}};mUtil.attr(i,"m-minimize-mobile")=="minimize"?(n.minimize.mobile={},n.minimize.mobile.on="m-header--minimize-on",n.minimize.mobile.off="m-header--minimize-off"):n.minimize.mobile=!1;mUtil.attr(i,"m-minimize")=="minimize"?(n.minimize.desktop={},n.minimize.desktop.on="m-header--minimize-on",n.minimize.desktop.off="m-header--minimize-off"):n.minimize.desktop=!1;(t=mUtil.attr(i,"m-minimize-offset"))&&(n.offset.desktop=t);(t=mUtil.attr(i,"m-minimize-mobile-offset"))&&(n.offset.mobile=t);e=new mHeader("m_header",n)},s=function(){u=new mOffcanvas("m_header_menu",{overlay:!0,baseClass:"m-aside-header-menu-mobile",closeBy:"m_aside_header_menu_mobile_close_btn",toggleBy:{target:"m_aside_header_menu_mobile_toggle",state:"m-brand__toggler--active"}});i=new mMenu("m_header_menu",{submenu:{desktop:"dropdown",tablet:"accordion",mobile:"accordion"},accordion:{slideSpeed:200,expandAll:!1}})},h=function(){var t=mUtil.get("m_ver_menu"),r=mUtil.attr(t,"m-menu-dropdown")==="1"?"dropdown":"accordion",i;mUtil.attr(t,"m-menu-scrollable")==="1"&&(i={height:function(){if(mUtil.isInResponsiveRange("desktop"))return mUtil.getViewPort().height-parseInt(mUtil.css("m_header","height"))}});n=new mMenu("m_ver_menu",{scroll:i,submenu:{desktop:{"default":r,state:{body:"m-aside-left--minimize",mode:"dropdown"}},tablet:"accordion",mobile:"accordion"},accordion:{autoScroll:!1,expandAll:!1}})},c=function(){var t=mUtil.get("body"),f=mUtil.get("m_aside_left"),e=mUtil.hasClass(f,"m-aside-left--offcanvas-default")?"m-aside-left--offcanvas-default":"m-aside-left",i,u;r=new mOffcanvas("m_aside_left",{baseClass:e,overlay:!0,closeBy:"m_aside_left_close_btn",toggleBy:{target:"m_aside_left_offcanvas_toggle",state:"m-brand__toggler--active"}});mUtil.hasClass(t,"m-aside-left--fixed")&&(mUtil.addEvent(f,"mouseenter",function(){u&&(clearTimeout(u),u=null);i=setTimeout(function(){mUtil.hasClass(t,"m-aside-left--minimize")&&mUtil.isInResponsiveRange("desktop")&&(mUtil.removeClass(t,"m-aside-left--minimize"),mUtil.addClass(t,"m-aside-left--minimize-hover"),n.scrollerUpdate(),n.scrollerTop())},300)}),mUtil.addEvent(f,"mouseleave",function(){i&&(clearTimeout(i),i=null);u=setTimeout(function(){mUtil.hasClass(t,"m-aside-left--minimize-hover")&&mUtil.isInResponsiveRange("desktop")&&(mUtil.removeClass(t,"m-aside-left--minimize-hover"),mUtil.addClass(t,"m-aside-left--minimize"),n.scrollerUpdate(),n.scrollerTop())},500)}))},l=function(){if($("#m_aside_left_minimize_toggle").length!==0){t=new mToggle("m_aside_left_minimize_toggle",{target:"body",targetState:"m-brand--minimize m-aside-left--minimize",togglerState:"m-brand__toggler--active"});t.on("toggle",function(t){i.pauseDropdownHover(800);n.pauseDropdownHover(800);Cookies.set("sidebar_toggle_state",t.getState())})}},a=function(){$("#m_aside_header_topbar_mobile_toggle").click(function(){$("body").toggleClass("m-topbar--on")})},v=function(){if($("#m_quicksearch").length!==0){f=new mQuicksearch("m_quicksearch",{mode:mUtil.attr("m_quicksearch","m-quicksearch-mode"),minLength:1});f.on("search",function(n){n.showProgress();$.ajax({url:"inc/api/quick_search.php",data:{query:n.query},dataType:"html",success:function(t){n.hideProgress();n.showResult(t)},error:function(){n.hideProgress();n.showError("Connection error. Pleae try again later.")}})})}},y=function(){var n=new mScrollTop("m_scroll_top",{offset:300,speed:600})};return{init:function(){this.initHeader();this.initAside()},initHeader:function(){o();s();a();v();y()},initAside:function(){c();h();l();this.onLeftSidebarToggle(function(){var n=$(".m-datatable");$(n).each(function(){$(this).mDatatable("redraw")})})},getAsideMenu:function(){return n},onLeftSidebarToggle:function(n){if(t)t.on("toggle",n)},closeMobileAsideMenuOffcanvas:function(){mUtil.isMobileDevice()&&r.hide()},closeMobileHorMenuOffcanvas:function(){mUtil.isMobileDevice()&&u.hide()}}}();$(document).ready(function(){mUtil.isAngularVersion()===!1&&mLayout.init()});