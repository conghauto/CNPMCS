var mLayout=function(){var e,i,t,r,u,n,f,o=function(){var t,i=mUtil.get("m_header"),n={offset:{},minimize:{}};mUtil.attr(i,"m-minimize-mobile")=="hide"?(n.minimize.mobile={},n.minimize.mobile.on="m-header--hide",n.minimize.mobile.off="m-header--show"):n.minimize.mobile=!1;mUtil.attr(i,"m-minimize")=="hide"?(n.minimize.desktop={},n.minimize.desktop.on="m-header--hide",n.minimize.desktop.off="m-header--show"):n.minimize.desktop=!1;(t=mUtil.attr(i,"m-minimize-offset"))&&(n.offset.desktop=t);(t=mUtil.attr(i,"m-minimize-mobile-offset"))&&(n.offset.mobile=t);e=new mHeader("m_header",n)},s=function(){u=new mOffcanvas("m_header_menu",{overlay:!0,baseClass:"m-aside-header-menu-mobile",closeBy:"m_aside_header_menu_mobile_close_btn",toggleBy:{target:"m_aside_header_menu_mobile_toggle",state:"m-brand__toggler--active"}});i=new mMenu("m_header_menu",{submenu:{desktop:"dropdown",tablet:"accordion",mobile:"accordion"},accordion:{slideSpeed:200,expandAll:!1}})},h=function(){var n=mUtil.get("m_ver_menu"),r=mUtil.attr(n,"m-menu-dropdown")==="1"?"dropdown":"accordion",i;mUtil.attr(n,"m-menu-scrollable")==="1"&&(i={height:function(){if(mUtil.isInResponsiveRange("desktop"))return mUtil.getViewPort().height-parseInt(mUtil.css("m_header","height"))}});t=new mMenu("m_ver_menu",{scroll:i,submenu:{desktop:{"default":r,state:{body:"m-aside-left--minimize",mode:"dropdown"}},tablet:"accordion",mobile:"accordion"},accordion:{autoScroll:!1,expandAll:!1}})},c=function(){var n=mUtil.get("m_aside_left"),t=mUtil.hasClass(n,"m-aside-left--offcanvas-default")?"m-aside-left--offcanvas-default":"m-aside-left";r=new mOffcanvas("m_aside_left",{baseClass:t,overlay:!0,closeBy:"m_aside_left_close_btn",toggleBy:{target:"m_aside_left_offcanvas_toggle",state:"m-brand__toggler--active"}})},l=function(){if($("#m_aside_left_minimize_toggle").length!==0){n=new mToggle("m_aside_left_minimize_toggle",{target:"body",targetState:"m-brand--minimize m-aside-left--minimize",togglerState:"m-brand__toggler--active"});n.on("toggle",function(n){i.pauseDropdownHover(800);t.pauseDropdownHover(800);Cookies.set("sidebar_toggle_state",n.getState())})}},a=function(){$("#m_aside_header_topbar_mobile_toggle").click(function(){$("body").toggleClass("m-topbar--on")})},v=function(){if($("#m_quicksearch").length!==0){f=new mQuicksearch("m_quicksearch",{mode:mUtil.attr("m_quicksearch","m-quicksearch-mode"),minLength:1});f.on("search",function(n){n.showProgress();$.ajax({url:"inc/api/quick_search.php",data:{query:n.query},dataType:"html",success:function(t){n.hideProgress();n.showResult(t)},error:function(){n.hideProgress();n.showError("Connection error. Pleae try again later.")}})})}},y=function(){var n=new mScrollTop("m_scroll_top",{offset:300,speed:600})};return{init:function(){this.initHeader();this.initAside()},initHeader:function(){o();s();a();v();y()},initAside:function(){c();h();l();this.onLeftSidebarToggle(function(){var n=$(".m-datatable");$(n).each(function(){$(this).mDatatable("redraw")})})},getAsideMenu:function(){return t},onLeftSidebarToggle:function(t){if(n)n.on("toggle",t)},closeMobileAsideMenuOffcanvas:function(){mUtil.isMobileDevice()&&r.hide()},closeMobileHorMenuOffcanvas:function(){mUtil.isMobileDevice()&&u.hide()}}}();$(document).ready(function(){mUtil.isAngularVersion()===!1&&mLayout.init()});